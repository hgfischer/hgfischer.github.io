<!DOCTYPE html> <html class=no-js lang=en-US prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"> <head> <title>Barra de Status no GNU Screen :: Memory Leak by Herbert Fischer</title> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=author content="Herbert Fischer"> <meta name=HandheldFriendly content=True> <meta name=MobileOptimized content=320> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"> <meta name=description content="Como personalizar a barra de status do GNU Screen"> <meta name=keywords content=linux,screen,shell,> <meta property=og:type content=article> <meta property=article:published_time content=2008-12-08> <meta property=article:modified_time content=2008-12-08> <meta property=article:tag content=linux><meta property=article:tag content=screen><meta property=article:tag content=shell> <meta property=og:site_name content="Memory Leak"> <meta property=og:title content="Barra de Status no GNU Screen"> <meta property=og:description content="Como personalizar a barra de status do GNU Screen"> <meta property=og:url content=http://hgfischer.org/artigo/barra-status-gnu-screen/ > <meta property=og:locale content=pt_BR> <meta property=og:locale:alternate content=en_US> <meta name=twitter:card content=summary> <meta name=twitter:site content=@hgfischer> <meta name=twitter:title content="Barra de Status no GNU Screen"> <meta name=twitter:creator content=@hgfischer> <meta name=twitter:description content="Como personalizar a barra de status do GNU Screen"> <meta name=twitter:domain content=hgfischer.org> <link rel=canonical href=http://hgfischer.org/artigo/barra-status-gnu-screen/ > <link rel=stylesheet href=/css/styles.min.css?1469990910946531349> <link rel=stylesheet href=/css/theme.min.css?1469990910946540084> <link href="//fonts.googleapis.com/css?family=Vollkorn|Open+Sans" rel=stylesheet type=text/css> <link rel="shortcut icon" href=/favicon.ico?1469990910946553090 type=image/x-icon> <link rel=apple-touch-icon href=/apple-touch-icon.png?1469990910946565373> <link rel=prefetch href=/fonts/glyphicons-halflings-regular.woff> <link rel=prerender href=/fonts/glyphicons-halflings-regular.woff> </head> <body> <script> window.fbAsyncInit = function() { FB.init({ appId: '303471599851367', xfbml: true, version: 'v2.2' }); };
	(function(d, s, id){ var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) {return;}
	js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/sdk.js";
	fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk')); </script> <nav class="navbar navbar-inverse navbar-static-top" role=navigation> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-navbar-collapse> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=/ >Memory Leak</a> </div> <div class="collapse navbar-collapse" id=bs-navbar-collapse> <ul class="nav navbar-nav"> <li><a href=/artigo/ title="Artigos em português">Português</a></li> <li><a href=/article/ title="English articles">English</a></li> <li><a href=/project>Projects</a></li> <li><a href=/tags/ >Tags</a></li> </ul> <form class="navbar-form navbar-right" role=search target=_blank action=https://www.google.com/search> <div class=form-group> <div class=input-group> <input type=hidden name=sitesearch value=hgfischer.org> <input name=q class=form-control placeholder=Search...> <span class=input-group-btn> <button type=submit class="btn btn-default"> <span class="glyphicon glyphicon-search"></span> </button> </span> </div> </div> </form> </div> </div> </nav> <meta itemprop=wordCount content=290> <meta itemprop=datePublished content=2008-12-08> <meta itemprop=url content=http://hgfischer.org/artigo/barra-status-gnu-screen/ > <meta itemprop=copyrightHolder content="Herbert G. Fischer"> <meta itemprop=copyrightYear content=2008> <div class=container itemscope itemtype=http://schema.org/Article> <div class=page-header> <h1 itemprop=name id=title>Barra de Status no GNU Screen</h1> </div> <div class=row> <div class=col-sm-8> <div class=row> <div class=col-sm-6> <small> Mon Dec 8, 2008, 300 words, read in about 2 mins. </small> </div> <div class="col-sm-6 text-right"> <span class="label label-default">linux</span> <span class="label label-default">screen</span> <span class="label label-default">shell</span> </div> </div> <hr> <p itemprop=articleBody class=text-justify> <p><a href=http://www.gnu.org/software/screen/ >GNU Screen</a> é um gerenciador de terminais virtuais para a linha de comando. Seu uso em geral agiliza a administração remota de servidores pelo simples fato de ser necessário abrir apenas uma conexão SSH e através desta se pode ter vários terminais virtuais.</p> <p>Uma outra vantagem em utilizar o GNU Screen, é deixar o gerenciador e retomá-lo sempre que precisar. Isso significa que você pode desconectar do servidor e deixar o gerenciador aberto com todas as &ldquo;janelas&rdquo; e processos rodando. Não só traz um benefício proposital, mas também pode salvar seu dia caso não tenha uma conexão estável com o servidor remoto.</p> <p>Por estas e outras razões eu sempre utilizo GNU Screen quando possível (quando está instalado no servidor remoto).</p> <p>No entanto por padrão ele não é muito amigável pois não exibe nenhuma informação na tela, sendo necessário utilizar atalhos de teclado para ver quais janelas estão abertas.</p> <p>Após muito procurar, e isso já faz um bom tempo, consegui criar uma configuração padrão, para meus Screen. Esta exibe uma barra de informações na parte inferior da tela.</p> <p>A configuração abaixo pode ser colocada no <code>/etc/screenrc</code> ou no <code>~/.screenrc</code>. Dependendo de onde colocar, ela valerá para todo o sistema ou somente para o usuário corrente, respectivamente.</p> <pre><code>vbell off
hardstatus off
backtick 1 1200 1200 whoami
caption always &quot;%{= cW} %c | %l | %-Lw%{= bW}%65&gt; [%n] %t %f* %{-}%+Lw%&lt;&quot;
</code></pre> <p>A partir deste exemplo, você pode personalizar sua barra de status da forma que quiser. São dezenas de opções que ao invés de citar aqui, recomendo que leia no manual do próprio screen (<code>man screen</code>).</p> <p>Veja como ficou:</p> <p><img src=/media/screen.png alt="captura de tela do terminal rodando screen"></p> <p>Observe que no rodapé do terminal encontra-se várias informações: Relógio, Load Average e a lista de janelas. A janela atual aparece destacada em azul.</p> <p></p> <hr> <div class=row> <div class=col-sm-12> <span itemprop=author>Herbert Fischer</span> is a programmer with more than 18 years of experience in different sub areas of the internet and software industry. He is a open-source contributor and author of a few projects at <a href=http://github.com/hgfischer target=_blank>Github</a>. You can also find him on <a href=http://twitter.com/hgfischer target=_blank>Twitter</a>, <a rel=author href=https://plus.google.com/+HerbertFischer/ target=_blank>Google+</a> and <a href=http://www.linkedin.com/in/hgfischer target=_blank>LinkedIn</a>. </div> </div> <hr> <div class=row> <div class=col-sm-12> <nav> <ul class=pager> <li class="previous small"> <a class=previous href=/artigo/erlang-macosx-leopard/ > <span aria-hidden=true>&larr;</span> &nbsp;Erlang no Mac OS X Leopard </a> </li> <li class="next small"> <a class=next href=/artigo/todas-vozes-mac/ > Todas as vozes do Mac&nbsp;<span aria-hidden=true>&rarr;</span> </a> </li> </ul> </nav> </div> </div> <div class=row> <div class=col-sm-12> <aside id=comments> <div><h2> Comments </h2></div> <div id=disqus_thread></div> <script type=text/javascript> var disqus_shortname = 'hgfischer';
    var disqus_identifier = 'http:\/\/hgfischer.org\/artigo\/barra-status-gnu-screen\/';
    var disqus_title = 'Barra de Status no GNU Screen';
    var disqus_url = 'http:\/\/hgfischer.org\/artigo\/barra-status-gnu-screen\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })(); </script> <noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript> <a href=http://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> </aside> </div> </div> </div> <div class="col-sm-3 col-sm-offset-1"> <div> <h4>Share</h4> <ul class=list-group> <li class=list-group-item> <a href="https://twitter.com/intent/tweet?status=Barra%20de%20Status%20no%20GNU%20Screen: http%3a%2f%2fhgfischer.org%2fartigo%2fbarra-status-gnu-screen%2f" target=_blank class=twitter><span class="icon icon-twitter"></span>Twitter</a> </li> <li class=list-group-item> <a href="http://www.reddit.com/submit?url=http%3a%2f%2fhgfischer.org%2fartigo%2fbarra-status-gnu-screen%2f" target=_blank title=Reddit class=reddit><span class="icon icon-reddit"></span>Reddit</a> </li> <li class=list-group-item> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fhgfischer.org%2fartigo%2fbarra-status-gnu-screen%2f&title=Barra%20de%20Status%20no%20GNU%20Screen&source=hgfischer" target=_blank title=LinkedIn class=linkedin><span class="icon icon-linkedin"></span>LinkedIn</a> </li> <li class=list-group-item> <div class=g-plusone data-annotation=none></div> </li> <li class=list-group-item> <div id=fb-root></div> <div class=fb-like data-href=http://hgfischer.org/artigo/barra-status-gnu-screen/ data-layout=button data-action=like data-show-faces=true data-share=true></div> </li> </ul> </div> <div> <h4>Follow</h4> <ul class=list-group> <li class=list-group-item> <a href=http://feeds.feedburner.com/hgfischer target=_blank title="Subscribe by RSS" class=rss><span class="icon icon-feed-2"></span>RSS</a> </li> <li class=list-group-item> <a href=http://github.com/hgfischer target=_blank title=GitHub class=github><span class="icon icon-github"></span>GitHub</a> </li> <li class=list-group-item> <a href=http://www.twitter.com/hgfischer target=_blank title="Follow me on Twitter" class=twitter><span class="icon icon-twitter"></span>Twitter</a> </li> <li class=list-group-item> <a href=http://www.linkedin.com/in/hgfischer target=_blank title=LinkedIn class=linkedin><span class="icon icon-linkedin"></span>LinkedIn</a> </li> <li class=list-group-item> <div class=g-person data-width=230 data-href=//plus.google.com/u/0/112773714892088929211 data-rel=author></div> </li> </ul> </div> </div> </div> </div> <nav class=navbar role=footer> <div class=container> <p class="navbar-text small"> &copy; 1997-2016 <span itemprop=author itemscope itemtype=http://schema.org/Person> <span itemprop=name>Herbert G. Fischer</span>. </span> <a href=http://creativecommons.org/licenses/by/3.0/ title="Creative Commons Attribution">Some rights reserved</a>; please attribute properly and link back. </p> </div> </nav> <script async defer src=https://apis.google.com/js/platform.js></script> <script defer src=/js/jquery-1.11.1.min.js></script> <script defer src=/js/bootstrap-3.3.1.min.js></script> <script> (function(i,s,o,g,r,a,m) {
i['GoogleAnalyticsObject'] = r;
i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date();
a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-57003414-1', 'auto');
ga('send', 'pageview'); </script> <script> (function() { 'use strict'; if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
var msViewportStyle = document.createElement('style');
msViewportStyle.appendChild(document.createTextNode('@-ms-viewport{width:auto!important}'));
document.querySelector('head').appendChild(msViewportStyle);
}})(); </script> 